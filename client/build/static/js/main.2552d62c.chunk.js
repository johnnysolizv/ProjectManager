(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(11),s=n.n(i),a=(n(41),n(13)),j=n(5),o=(n(42),n(6)),l=Object(c.createContext)(),d=n(14),u=n(12),b=n(4),O=n(2),x={username:"",password:""},h=function(e){var t=Object(c.useState)(x),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(c.useContext)(l),a=Object(j.f)(),h=function(e){var t=e.target,n=t.name,c=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,c)))};return Object(O.jsxs)(b.h,{children:[Object(O.jsx)(b.m,{children:Object(O.jsx)("h1",{children:"Login"})}),Object(O.jsxs)(b.i,{onSubmit:function(e){e.preventDefault(),s.login(r)},children:[Object(O.jsxs)(b.m,{children:[Object(O.jsx)(b.g,{xs:12,children:Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.l,{children:"Username:"}),Object(O.jsx)(b.k,{type:"text",name:"username",value:r.username,onChange:h,required:!0,maxLength:50})]})}),Object(O.jsx)(b.g,{xs:12,children:Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.l,{children:"Password:"}),Object(O.jsx)(b.k,{type:"password",name:"password",value:r.password,onChange:h,required:!0,minLength:6})]})})]}),Object(O.jsxs)(b.m,{children:[Object(O.jsx)(b.g,{xs:6,md:3,children:Object(O.jsx)(b.a,{type:"submit",children:"Login"})}),Object(O.jsx)(b.g,{xs:6,md:3,children:Object(O.jsx)(b.a,{type:"button",onClick:function(e){null===e||void 0===e||e.stopPropagation(),a("/register")},children:"Registrarse"})})]})]})]})},g=n(10),f=n.n(g),p=n(7),m=n.n(p),v={name:"",email:"",password:"",confirmPassword:""},C=function(e){var t=Object(c.useState)(v),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(j.f)(),a=function(e){var t=e.target,n=t.name,c=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,c)))},l=function(e){null===e||void 0===e||e.stopPropagation(),s("/login")};return Object(O.jsxs)(b.h,{children:[Object(O.jsx)(b.m,{children:Object(O.jsx)("h1",{children:"Register new User"})}),Object(O.jsxs)(b.i,{onSubmit:function(e){e.preventDefault(),f.a.post("/api/register",r).then((function(e){e.data.ok?(m.a.fire("Registro de Usuarios",e.data.message,"success"),l()):m.a.fire("Registro de Usuarios",e.data.message,"error")})).catch((function(e){console.log(e)}))},children:[Object(O.jsxs)(b.m,{children:[Object(O.jsx)(b.g,{xs:12,children:Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.l,{children:"Name:"}),Object(O.jsx)(b.k,{type:"text",name:"name",value:r.name,onChange:a,required:!0,maxLength:50})]})}),Object(O.jsx)(b.g,{xs:12,children:Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.l,{children:"Email:"}),Object(O.jsx)(b.k,{type:"email",name:"email",value:r.email,onChange:a,required:!0})]})}),Object(O.jsx)(b.g,{xs:12,children:Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.l,{children:"Password:"}),Object(O.jsx)(b.k,{type:"password",name:"password",value:r.password,onChange:a,required:!0,minLength:6})]})}),Object(O.jsx)(b.g,{xs:12,children:Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.l,{children:"Confirm Password:"}),Object(O.jsx)(b.k,{type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:a,required:!0,minLength:6})]})})]}),Object(O.jsxs)(b.m,{children:[Object(O.jsx)(b.g,{xs:6,md:3,children:Object(O.jsx)(b.a,{type:"submit",children:"Registrar Usuario"})}),Object(O.jsx)(b.g,{xs:6,md:3,children:Object(O.jsx)(b.a,{type:"button",onClick:l,children:"Cancelar"})})]})]})]})},P=n(21),S=n(34),y=function(e){var t,n=Object(c.useContext)(l);return Object(O.jsxs)(b.m,{children:[Object(O.jsx)(b.g,{xs:10,children:Object(O.jsx)("h2",{children:null===(t=n.user)||void 0===t?void 0:t.name})}),Object(O.jsx)(b.g,{xs:2,children:Object(O.jsx)(S.a,{onClick:function(e){n.logout()}})})]})},k={project:"",duedate:"",status:"Backlog"},w=function(e){var t=Object(c.useState)(k),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(j.f)(),a=Object(j.g)().id,l=function(e){var t=e.target,n=t.name,c=t.value;i(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},n,c)))};return Object(c.useEffect)((function(){a&&f.a.get("/api/project/".concat(a)).then((function(e){return i(e.data.data)})).catch((function(e){return m.a.fire("Error","Error al obtener el proyecto, int\xe9ntelo mas tarde","error")}))}),[]),Object(O.jsxs)(b.m,{children:[Object(O.jsx)("h1",{children:e.edicion?"Editando el proyecto:"+(null===r||void 0===r?void 0:r.project):e.ver?"Visualizando el proyecto"+(null===r||void 0===r?void 0:r.project):"Creando una nuevo proyecto"}),Object(O.jsxs)(b.i,{onSubmit:function(t){t.preventDefault();var n=Object(u.a)({},r);n._id=a,e.accion(n)},children:[Object(O.jsx)(b.m,{children:Object(O.jsxs)(b.g,{xs:12,children:[Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.l,{children:"Project"}),Object(O.jsx)(b.k,{type:"text",name:"project",value:r.name,onChange:l,required:!0,minLength:3,disabled:e.ver})]}),Object(O.jsxs)(b.j,{children:[Object(O.jsx)(b.l,{children:"Due Date"}),Object(O.jsx)(b.k,{type:"Date",name:"duedate",value:r.raza,onChange:l,required:!0,disabled:e.ver})]})]})}),Object(O.jsxs)(b.m,{children:[Object(O.jsx)(b.g,{xs:3,children:e.accion&&Object(O.jsx)(b.a,{type:"submit",children:"Plan Project"})}),Object(O.jsx)(b.g,{xs:3,children:Object(O.jsx)(b.a,{type:"button",onClick:function(e){e.stopPropagation(),s("../")},children:"Volver"})})]})]})]})},E=function(e){return console.log("PROPS",e),Object(O.jsxs)(b.d,{children:[Object(O.jsx)(b.b,{children:e.list.filter((function(e){return"Backlog"==e.status})).map((function(t,n){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(b.b,{children:Object(O.jsxs)(b.c,{children:[Object(O.jsx)(b.f,{tag:"h5",children:t.project}),Object(O.jsx)(b.e,{children:t.duedate}),Object(O.jsx)(b.a,{onClick:function(n){return function(t,n){t.stopPropagation(),n.status="InProgress",e.update(n)}(n,t)},children:" Start Project"})]})},n)})}))}),Object(O.jsx)(b.b,{children:e.list.filter((function(e){return"InProgress"==e.status})).map((function(t,n){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(b.b,{children:Object(O.jsxs)(b.c,{children:[Object(O.jsx)(b.f,{tag:"h5",children:t.project}),Object(O.jsx)(b.e,{children:t.duedate}),Object(O.jsx)(b.a,{onClick:function(n){return function(t,n){t.stopPropagation(),n.status="Completed",e.update(n)}(n,t)},children:" Move To Completted"})]})},n)})}))}),Object(O.jsx)(b.b,{children:e.list.filter((function(e){return"Completed"==e.status})).map((function(t,n){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(b.b,{children:Object(O.jsxs)(b.c,{children:[Object(O.jsx)(b.f,{tag:"h5",children:t.project}),Object(O.jsx)(b.e,{children:t.duedate}),Object(O.jsx)(b.a,{onClick:function(n){return function(t,n){t.stopPropagation(),n&&e.eliminar(n)}(n,t._id)},children:"Remove Project"})]})},n)})}))})]})},L=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),l=Object(o.a)(s,2),d=l[0],u=l[1],x=Object(j.f)();Object(c.useEffect)((function(){h(null)}),[d]);var h=function(e){null===e||void 0===e||e.stopPropagation(),f.a.get("/api/project").then((function(e){return i(e.data.data)})).catch((function(e){return m.a.fire("Error",e.message,"error")}))};return Object(O.jsxs)(b.h,{children:[Object(O.jsx)(y,{}),Object(O.jsxs)(b.m,{children:[Object(O.jsx)(a.b,{to:"./",children:" Listado "}),Object(O.jsx)(a.b,{to:"add",children:" Agregar "})]}),Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{index:!0,element:Object(O.jsx)(E,{list:r,update:function(e){f.a.put("/api/project/".concat(e._id),e).then((function(e){u(!d),x("./")})).catch((function(e){return m.a.fire("Error al actualizar el project",null===e||void 0===e?void 0:e.message,"error")}))},eliminar:function(e){e&&m.a.fire({title:"Eliminar el proyecto",text:"\xbfEsta seguro que desea eliminar el proyecto",icon:"question",showCancelButton:!0,confirmButtonText:"Si, eliminar!!!",cancelButtonText:"No"}).then((function(t){t.isConfirmed&&f.a.delete("/api/project/".concat(e)).then((function(t){var n=Object(P.a)(r);n.splice(n.findIndex((function(t){return t._id===e})),1),i(n)})).catch((function(e){return m.a.fire("Error al eliminar el proyecto",null===e||void 0===e?void 0:e.message,"error")}))}))}})}),Object(O.jsx)(j.a,{path:"add",element:Object(O.jsx)(w,{accion:function(e){f.a.post("/api/project",e).then((function(e){i([].concat(Object(P.a)(r),[e.data.data])),x("./")})).catch((function(e){console.log(e),m.a.fire("Error al crear el project",null===e||void 0===e?void 0:e.message,"error")}))}})})]})]})},q="SESSION_USER",I=function(e){var t=Object(c.useState)(null),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(j.f)();return Object(c.useEffect)((function(){sessionStorage.getItem(q)?(i(JSON.parse(sessionStorage.getItem(q))),s("/project/")):s("/login")}),[]),Object(O.jsx)(l.Provider,{value:{user:r,setUser:i,login:function(e){f.a.post("/api/login",e).then((function(e){e.data.ok?(i(e.data.data),sessionStorage.setItem(q,JSON.stringify(e.data.data)),s("/project/")):m.a.fire("Login",e.data.message,"error")})).catch((function(e){console.log(e)}))},logout:function(){i(null),sessionStorage.clear(),s("/login")}},children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{path:"/login",element:Object(O.jsx)(h,{})}),Object(O.jsx)(j.a,{path:"/register",element:Object(O.jsx)(C,{})}),Object(O.jsx)(j.a,{path:"/project/*",element:Object(O.jsx)(L,{})})]})})};var R=function(){return Object(O.jsx)(a.a,{children:Object(O.jsx)(j.c,{children:Object(O.jsx)(j.a,{index:!0,path:"/*",element:Object(O.jsx)(I,{})})})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};n(74);s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(R,{})}),document.getElementById("root")),B()}},[[75,1,2]]]);
//# sourceMappingURL=main.2552d62c.chunk.js.map